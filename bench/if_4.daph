// --explain=update_in_place
// should report "daphne.ewAdd"(%7, %13) {inPlaceFutureUse = [true, false]}

s = $r;

X = fill(1.0, 10, 10);
Y = fill(0.0, 10, 10);
D = fill(1.0, 10, 10);

if(s != 0.5) {
	C = fill(1.0, 10, 10);
	if(s == 1.0) {
		Y = X + C;
	}
}

print(X);
print(Y);